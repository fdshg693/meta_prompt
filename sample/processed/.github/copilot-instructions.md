# 共通インストラクション

## プロジェクト概要
F#学習フローシステムは、F#の学習を支援するエージェントベースのシステムです。複数の専門エージェントが連携して、個別化された学習体験を提供します。

## 基本原則

### ファイルベース連携
- すべてのエージェント間の情報交換はファイルを通じて行います
- ファイル形式は主にマークダウン（.md）を使用します
- ファイルパスは相対パスで指定し、一貫性を保ちます

### 実行制限
- **重要**: 一回の実行で作成するファイル数は最大3ファイルまでです
- 途中経過は必ず指定されたファイルに保存してください
- 実行前に途中経過ファイルが存在する場合は、そこから処理を再開してください
- すべての処理が完了したら、途中経過ファイルの内容を空にしてください

### ループ実行対応
- {{run_number}}変数により、現在が何回目の実行かを認識できます
- 初回実行時（{{run_number}}=1）と継続実行時で処理を適切に分岐してください
- 継続実行時は前回の結果を適切に参照してください

## ファイル構造

### 入力ディレクトリ
- `INPUT/`: ユーザからの入力ファイル
  - `user_profile.md`: ユーザの基本情報
  - `test_answers.md`: テスト回答
  - `learning_request.md`: 学習継続意思・要望

### データディレクトリ
- `data/`: エージェント間の中間データ
  - `knowledge_assessment_results.md`: 知識評価結果
  - `learning_plan.md`: 学習計画
  - `learning_objectives.md`: 学習目標
  - `progress_analysis_report.md`: 進捗分析レポート
  - `learning_history.md`: 学習履歴
  - `adaptation_recommendations.md`: 計画調整推奨
  - `previous_test_results.md`: 過去テスト結果
  - `test_questions.md`: テスト問題

### コンテンツディレクトリ
- `content/`: 学習コンテンツ
  - `lesson_[topic_id].md`: トピック別学習資料
  - `code_examples_[topic_id].md`: コード例集

### フィードバックディレクトリ
- `feedback/`: フィードバック情報
  - `detailed_feedback.md`: 詳細フィードバック
  - `improvement_suggestions.md`: 改善提案

### 出力ディレクトリ
- `output/`: ユーザ向け最終出力
  - `current_lesson.md`: 現在の学習資料
  - `current_feedback.md`: 現在のフィードバック

### アーカイブディレクトリ
- `archive/cycle_[number]/`: 各サイクルの結果保存

### 途中経過ディレクトリ
- `temp/`: 途中経過ファイル
  - `progress_[agent_name].md`: 各エージェントの進捗状況

## 品質基準

### ファイル出力の品質
- マークダウン形式の正しい構文を使用
- 見出し、リスト、コードブロックを適切に使用
- F#のコード例は適切なシンタックスハイライトを使用

### エラーハンドリング
- 必要なファイルが存在しない場合は、適切なエラーメッセージを出力
- 不正なファイル形式の場合は、修正提案を含むメッセージを出力

### ユーザビリティ
- ユーザにとって理解しやすい言葉遣いを使用
- 専門用語には適切な説明を付加
- 学習者のモチベーション維持を考慮した表現を使用
